{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["let onTouch = false;\nconst COUNT = 7;\nconst CAN_DRAG_CLASS = 'js-canOnDrag';\n\nlet selected = [];\n\nfunction resetData() {\n  $(`.${CAN_DRAG_CLASS}`).removeClass('is-active');\n  selected = [];\n  console.log('reset');\n}\n\nconst defaultDom = `\n<table class=\"table\"><thead></thead><tbody></tbody></table>\n`;\n\nfunction initView(startDate) {\n  let dom = $(defaultDom);\n  const date = {\n    month: startDate.split('/')[0],\n    day: startDate.split('/')[1]\n  };\n\n\n  dom.find('thead').append('<tr>');\n  for (let i = 0; i < COUNT + 1; i++) {\n    if (i === 0) {\n      dom.find('thead > tr').append($('<td>').addClass('table-cell'));\n      continue;\n    }\n\n    dom.find('thead > tr').append($(`<td class=\"table-cell\">${date.month}/${date.day + i}</td>`));\n  }\n\n  for (let ii = 0; ii < 24; ii++) {\n    let $add = $('<tr>');\n    for (let iii = 0; iii < COUNT + 1; iii++) {\n      if (iii === 0) {\n        $add.append($('<td>').addClass('table-cell table-cell_time').text(`${ii} - ${ii + 1}`));\n      } else {\n        $add.append($('<td>').addClass('table-cell js-canOnDrag').attr('data-month', date.month).attr('data-day', date.day = iii).attr('id', `${ii}-${iii}`));\n      }\n    }\n    // console.log($add.prop('outerHTML'));\n    dom.find('tbody').append($add);\n  }\n\n  $('.calender').html(dom.prop('outerHTML'));\n}\n\nfunction showUpdate() {\n  const minRow = selected.reduce((id, current) => Math.min(id, current.row), 25);\n  const maxRow = selected.reduce((id, current) => Math.max(id, current.row), -1);\n  const minCol = selected.reduce((id, current) => Math.min(id, current.col), 25);\n  const maxCol = selected.reduce((id, current) => Math.max(id, current.col), -1);\n\n  console.log(minRow, maxRow, minCol, maxCol);\n  for (let row = minRow; row <= maxRow; row++) {\n    for (let col = minCol; col <= maxCol; col++) {\n      $(`#${row}-${col}`).addClass('is-active');\n    }\n  }\n}\n\n$(function () {\n  initView('3/1');\n\n  $('body').on('mousedown', ()=> {\n    resetData();\n    console.log('mouse down')\n  });\n\n  $('body').on('mouseup', ()=> {\n    onTouch = false;\n    console.log('mouse up')\n  });\n\n  $('body').on('dragstart', (e)=> {\n    e.preventDefault();\n  });\n\n  $('.table').on('mousedown', ()=> {\n    onTouch = true;\n    resetData();\n    console.log('table click');\n  });\n\n  $(`.${CAN_DRAG_CLASS}`).on('mouseenter', (e)=> {\n    if (!onTouch) return;\n\n    $(e.target).addClass('is-active');\n    selected.push({\n      row: $(e.target).attr('id').split('-')[0],\n      col: $(e.target).attr('id').split('-')[1]\n    });\n    showUpdate();\n    console.log(selected);\n  });\n\n  $(`.${CAN_DRAG_CLASS}`).on('mousedown', (e)=> {\n    $(e.target).addClass('is-active');\n  });\n\n\n});"]}